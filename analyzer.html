<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Builder - Impact Analyzer</title>
    <link rel="stylesheet" href="styles/shared.css">
    <script src="js/shared.js"></script>
    <script src="js/analyzer.js"></script>
    <style>
        /* Navigation Styles */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-primary);
            z-index: 1000;
            padding: 16px 0;
            transition: all 0.3s ease;
        }

        .navbar-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text-primary);
        }

        .navbar-brand:hover {
            color: var(--text-primary);
        }

        .navbar-logo {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent), var(--text-secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: var(--bg-primary);
            font-size: 16px;
        }

        .navbar-title {
            font-weight: 600;
            font-size: 1.2rem;
        }

        .navbar-badge {
            font-size: 10px;
            color: var(--text-tertiary);
            padding: 2px 6px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px;
            margin-left: 8px;
        }

        .navbar-nav {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-link.active {
            color: var(--accent);
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-icon {
            font-size: 16px;
        }

        /* Mobile menu toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
        }

        .mobile-menu-toggle:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Adjust body padding for fixed navbar */
        body {
            padding-top: 80px;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .navbar-container {
                padding: 0 16px;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .navbar-nav {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(10, 10, 10, 0.98);
                backdrop-filter: blur(20px);
                border-bottom: 1px solid var(--border-primary);
                flex-direction: column;
                padding: 16px;
                gap: 4px;
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
            }
            
            .navbar-nav.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            .nav-link {
                width: 100%;
                justify-content: flex-start;
                padding: 12px 16px;
            }
            
            .navbar-title {
                display: none;
            }
            
            .navbar-badge {
                margin-left: 4px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="spa.html" class="navbar-brand">
                <div class="navbar-logo">P</div>
                <span class="navbar-title">Prompt Builder</span>
                <span class="navbar-badge">UNESCO MIL</span>
            </a>
            
            <div class="navbar-nav" id="navbarNav">
                <a href="spa.html" class="nav-link">
                    <span class="nav-icon">üè†</span>
                    Home
                </a>
                <a href="builder.html" class="nav-link">
                    <span class="nav-icon">üõ†Ô∏è</span>
                    Builder
                </a>
                <a href="analyzer.html" class="nav-link active">
                    <span class="nav-icon">üìä</span>
                    Analyzer
                </a>
                <a href="missions.html" class="nav-link">
                    <span class="nav-icon">üéØ</span>
                    Missions
                </a>
                <a href="learning.html" class="nav-link">
                    <span class="nav-icon">üìö</span>
                    Learning
                </a>
            </div>
            
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                ‚ò∞
            </button>
        </div>
    </nav>

    <div class="container">
        <div class="header">
            <div class="logo">
                <div class="logo-icon">P</div>
                <span style="font-weight: 600;">Prompt Builder</span>
                <div style="font-size: 10px; color: var(--text-tertiary); margin-left: 8px; padding: 2px 6px; background: rgba(255,255,255,0.1); border-radius: 4px;">UNESCO MIL</div>
            </div>
        </div>
        <div class="header">
            <h1>Impact Analyzer</h1>
            <p>Witness the dramatic difference between generic and structured prompts with real AI responses</p>
        </div>

        <!-- No Prompt State -->
        <div id="noPromptState" class="card" style="text-align: center; padding: 48px 32px;">
            <div style="font-size: 3rem; margin-bottom: 16px;">üîç</div>
            <h3 style="color: var(--text-primary); margin-bottom: 16px; font-size: 1.5rem;">Ready to See the Impact?</h3>
            <p style="color: var(--text-secondary); margin-bottom: 32px; max-width: 500px; margin-left: auto; margin-right: auto;">Create a structured prompt first to see the powerful comparison with real AI responses!</p>
            <a href="builder.html" class="btn btn-success">
                ‚ö° Build a Structured Prompt
            </a>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="card" style="display: none; text-align: center; padding: 48px 32px;">
            <div class="loading-spinner" style="width: 48px; height: 48px; border: 3px solid var(--border-primary); border-top: 3px solid var(--accent); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 24px;"></div>
            <h3 style="color: var(--text-primary); margin-bottom: 16px;">Analyzing Impact...</h3>
            <p style="color: var(--text-secondary);">Comparing your structured prompt with a generic version using real AI responses</p>
        </div>

        <!-- Comparison Results -->
        <div id="comparisonResults" style="display: none;">
            <!-- Results Header -->
            <div class="card" style="text-align: center; margin-bottom: 32px; padding: 32px;">
                <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 16px; background: linear-gradient(135deg, var(--text-primary), var(--text-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">AI Response Comparison</h2>
                <p style="color: var(--text-secondary); font-size: 1.125rem; max-width: 700px; margin: 0 auto;">See how structured prompting dramatically improves AI response quality and relevance</p>
            </div>

            <!-- Side-by-Side Comparison -->
            <div class="comparison-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px;">
                <!-- Good Prompt Result -->
                <div class="comparison-card good-prompt">
                    <div class="card" style="height: 100%; background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(16, 185, 129, 0.02)); border: 1px solid rgba(16, 185, 129, 0.3);">
                        <div style="position: relative;">
                            <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: var(--success); border-radius: 20px 20px 0 0;"></div>
                            <div style="padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                                    <div style="width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; background: rgba(16, 185, 129, 0.2); color: var(--success); font-weight: bold;">‚úì</div>
                                    <h3 style="font-weight: 600; color: var(--text-primary); margin: 0;">Your Structured Prompt</h3>
                                </div>
                                
                                <div class="prompt-preview" style="background: var(--bg-secondary); border: 1px solid var(--border-primary); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                                    <div style="font-size: 12px; color: var(--text-tertiary); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">Your Prompt</div>
                                    <div id="goodPromptText" style="font-family: monospace; font-size: 13px; color: var(--text-secondary); white-space: pre-wrap; max-height: 120px; overflow-y: auto;"></div>
                                </div>

                                <div class="ai-response" style="background: var(--bg-tertiary); border-radius: 12px; padding: 20px;">
                                    <div style="font-size: 12px; color: var(--success); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">AI Response</div>
                                    <div id="goodResponse" style="color: var(--text-primary); line-height: 1.6; max-height: 300px; overflow-y: auto; font-size: 14px;"></div>
                                </div>

                                <div class="analysis" style="margin-top: 16px; padding: 16px; background: rgba(16, 185, 129, 0.1); border-radius: 8px; border-left: 4px solid var(--success);">
                                    <div style="font-size: 12px; color: var(--success); font-weight: 600; margin-bottom: 8px;">‚úì WHY THIS WORKS</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">This response is specific, detailed, and contextually relevant because your structured prompt provided clear persona, task, context, and format instructions.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bad Prompt Result -->
                <div class="comparison-card bad-prompt">
                    <div class="card" style="height: 100%; background: linear-gradient(135deg, rgba(239, 68, 68, 0.05), rgba(239, 68, 68, 0.02)); border: 1px solid rgba(239, 68, 68, 0.3);">
                        <div style="position: relative;">
                            <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: var(--error); border-radius: 20px 20px 0 0;"></div>
                            <div style="padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                                    <div style="width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; background: rgba(239, 68, 68, 0.2); color: var(--error); font-weight: bold;">‚úó</div>
                                    <h3 style="font-weight: 600; color: var(--text-primary); margin: 0;">Generic Prompt</h3>
                                </div>
                                
                                <div class="prompt-preview" style="background: var(--bg-secondary); border: 1px solid var(--border-primary); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                                    <div style="font-size: 12px; color: var(--text-tertiary); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">Generic Version</div>
                                    <div id="badPromptText" style="font-family: monospace; font-size: 13px; color: var(--text-secondary); white-space: pre-wrap; max-height: 120px; overflow-y: auto;"></div>
                                </div>

                                <div class="ai-response" style="background: var(--bg-tertiary); border-radius: 12px; padding: 20px;">
                                    <div style="font-size: 12px; color: var(--error); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">AI Response</div>
                                    <div id="badResponse" style="color: var(--text-primary); line-height: 1.6; max-height: 300px; overflow-y: auto; font-size: 14px;"></div>
                                </div>

                                <div class="analysis" style="margin-top: 16px; padding: 16px; background: rgba(239, 68, 68, 0.1); border-radius: 8px; border-left: 4px solid var(--error);">
                                    <div style="font-size: 12px; color: var(--error); font-weight: 600; margin-bottom: 8px;">‚úó WHY THIS FAILS</div>
                                    <div style="font-size: 13px; color: var(--text-secondary);">This response is generic and lacks detail because the prompt was too vague and provided no specific guidance to the AI.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="text-align: center;">
                <a href="builder.html" class="btn btn-outline" style="margin-right: 16px;">
                    üîÑ Build Another Prompt
                </a>
                <a href="missions.html" class="btn btn-success">
                    üéØ Try MIL Missions
                </a>
            </div>
        </div>
                                


    <script>
        // Mobile menu toggle functionality
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            const nav = document.getElementById('navbarNav');
            nav.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function() {
                const nav = document.getElementById('navbarNav');
                nav.classList.remove('active');
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const nav = document.getElementById('navbarNav');
            const toggle = document.getElementById('mobileMenuToggle');
            
            if (!nav.contains(event.target) && !toggle.contains(event.target)) {
                nav.classList.remove('active');
            }
        });

        // Impact Analyzer Core Functionality
        class ImpactAnalyzer {
            constructor() {
                // Using simulated responses as per PRD - no external API calls
                this.init();
            }

            init() {
                // Check if we have a prompt from the builder
                const urlParams = new URLSearchParams(window.location.search);
                const promptFromUrl = urlParams.get('prompt');
                const promptFromStorage = localStorage.getItem('generatedPrompt');
                
                if (promptFromUrl || promptFromStorage) {
                    const structuredPrompt = promptFromUrl || promptFromStorage;
                    this.analyzePrompt(structuredPrompt);
                } else {
                    this.showNoPromptState();
                }
            }

            showNoPromptState() {
                document.getElementById('noPromptState').style.display = 'block';
                document.getElementById('loadingState').style.display = 'none';
                document.getElementById('comparisonResults').style.display = 'none';
            }

            showLoadingState() {
                document.getElementById('noPromptState').style.display = 'none';
                document.getElementById('loadingState').style.display = 'block';
                document.getElementById('comparisonResults').style.display = 'none';
            }

            showResults() {
                document.getElementById('noPromptState').style.display = 'none';
                document.getElementById('loadingState').style.display = 'none';
                document.getElementById('comparisonResults').style.display = 'block';
            }

            generateBadPrompt(structuredPrompt) {
                // Extract the core task from the structured prompt
                // This is a simplified version - in production you'd have more sophisticated parsing
                
                // Remove common prompt engineering patterns
                let badPrompt = structuredPrompt
                    .replace(/Act as a[^.]*\./gi, '') // Remove "Act as..." instructions
                    .replace(/You are a[^.]*\./gi, '') // Remove "You are..." instructions
                    .replace(/Your task is to/gi, '') // Remove task framing
                    .replace(/Context:[^]*?(?=\n\n|\n[A-Z]|$)/gi, '') // Remove context sections
                    .replace(/Format:[^]*?(?=\n\n|\n[A-Z]|$)/gi, '') // Remove format instructions
                    .replace(/Please provide[^.]*structured/gi, '') // Remove structure requests
                    .replace(/\n+/g, ' ') // Replace multiple newlines with single space
                    .trim();

                // If we couldn't extract anything meaningful, create a basic version
                if (badPrompt.length < 10) {
                    // Extract the main action/topic from the original prompt
                    const actionMatch = structuredPrompt.match(/(?:explain|describe|analyze|create|write|generate|help|tell|show)[^.]*\.?/i);
                    if (actionMatch) {
                        badPrompt = actionMatch[0].replace(/\.$/, '');
                    } else {
                        badPrompt = "Help me with this topic.";
                    }
                }

                // Ensure it's actually simpler
                return badPrompt.length > 100 ? badPrompt.substring(0, 100) + '...' : badPrompt;
            }

            async callGeminiAPI(prompt) {
                try {
                    // Simulate realistic API delay (2-3 seconds as specified in PRD)
                    await new Promise(resolve => setTimeout(resolve, 2000 + Math.random() * 1000));

                    // Return topic-specific simulated responses
                    return this.getSimulatedResponse(prompt);
                } catch (error) {
                    console.error('Simulation Error:', error);
                    throw new Error('Failed to generate response. Please try again.');
                }
            }

            getSimulatedResponse(prompt) {
                // Determine if this is a structured (good) or generic (bad) prompt
                const isStructured = prompt.length > 150 && (
                    prompt.includes('Act as') || 
                    prompt.includes('You are') || 
                    prompt.includes('Context:') || 
                    prompt.includes('Format:') ||
                    prompt.includes('persona') ||
                    prompt.includes('specific') ||
                    prompt.includes('detailed')
                );

                // Detect topic category for more relevant responses
                const topic = this.detectTopic(prompt);
                
                if (isStructured) {
                    return this.getGoodResponse(topic);
                } else {
                    return this.getBadResponse(topic);
                }
            }

            detectTopic(prompt) {
                const promptLower = prompt.toLowerCase();
                
                if (promptLower.includes('inflation') || promptLower.includes('economy') || promptLower.includes('financial')) {
                    return 'finance';
                } else if (promptLower.includes('misinformation') || promptLower.includes('fake news') || promptLower.includes('media literacy')) {
                    return 'media_literacy';
                } else if (promptLower.includes('climate') || promptLower.includes('environment') || promptLower.includes('sustainability')) {
                    return 'environment';
                } else if (promptLower.includes('social media') || promptLower.includes('digital') || promptLower.includes('technology')) {
                    return 'technology';
                } else if (promptLower.includes('education') || promptLower.includes('learning') || promptLower.includes('student')) {
                    return 'education';
                } else {
                    return 'general';
                }
            }

            getGoodResponse(topic) {
                const responses = {
                    finance: `**Understanding Inflation: A Comprehensive Guide for Teenagers**

As your financial advisor, I'll break down inflation in terms that relate to your everyday experiences.

**What is Inflation?**
Inflation is the gradual increase in prices of goods and services over time, which reduces the purchasing power of money. Think of it like this: the $20 you have today won't buy as much in 10 years as it does now.

**Real-World Examples:**
‚Ä¢ Movie tickets: Cost $5 in 2000, now cost $12-15
‚Ä¢ College tuition: Has increased 3x faster than inflation
‚Ä¢ Your favorite fast food meal: Probably costs more than it did 2 years ago

**Why It Happens:**
1. **Demand vs Supply**: More people wanting limited goods drives prices up
2. **Money Supply**: When there's more money in circulation, prices tend to rise
3. **Production Costs**: If it costs more to make things, companies charge more

**Impact on Your Future:**
- Your savings lose value if inflation outpaces your savings account interest
- Your future salary needs to account for inflation to maintain your lifestyle
- Investments like stocks historically outpace inflation

**Action Steps for Teens:**
‚úì Start investing early (even small amounts)
‚úì Consider inflation when planning major purchases
‚úì Learn about different investment vehicles
‚úì Understand how inflation affects student loans

This structured approach helps you not just understand inflation, but see how it directly impacts your financial decisions today and tomorrow.`,

                    media_literacy: `**Identifying and Combating Misinformation: A Media Literacy Framework**

As a digital literacy expert, I'll provide you with a systematic approach to identifying and responding to misinformation.

**The SIFT Method for Source Verification:**

**S - Stop and Check**
Before sharing or believing content, pause and ask:
- Who created this content?
- What's their motivation?
- Does this align with known facts?

**I - Investigate the Source**
‚Ä¢ Check the website's "About" section
‚Ä¢ Look for editorial standards and correction policies
‚Ä¢ Verify author credentials and expertise
‚Ä¢ Cross-reference with established fact-checking sites

**F - Find Better Coverage**
‚Ä¢ Search for the same story from multiple reputable sources
‚Ä¢ Look for primary sources (original research, official statements)
‚Ä¢ Check if mainstream media is covering the story

**T - Trace Claims to Origin**
‚Ä¢ Find the original source of quotes or statistics
‚Ä¢ Verify that images haven't been manipulated or taken out of context
‚Ä¢ Check publication dates to ensure currency

**Red Flags to Watch For:**
üö© Emotional language designed to trigger strong reactions
üö© Claims that seem too good/bad to be true
üö© No author or publication date listed
üö© Poor grammar, spelling, or unprofessional formatting
üö© Extraordinary claims without extraordinary evidence

**Practical Response Strategy:**
1. **Don't share questionable content** - even to debunk it
2. **Report misinformation** on social platforms
3. **Engage constructively** with friends who share false information
4. **Promote reliable sources** in your networks

**Building Long-term Media Literacy:**
‚Ä¢ Follow diverse, credible news sources
‚Ä¢ Understand media bias and how to account for it
‚Ä¢ Learn to distinguish between news, opinion, and analysis
‚Ä¢ Develop emotional regulation when consuming upsetting content

This framework empowers you to be an active defender against misinformation while building critical thinking skills essential for digital citizenship.`,

                    environment: `**Climate Change Action Plan: Evidence-Based Solutions for Young Activists**

As an environmental policy advisor, I'll outline actionable strategies backed by scientific research.

**Understanding the Current Climate Crisis:**

**Key Metrics:**
‚Ä¢ Global temperature has risen 1.1¬∞C since pre-industrial times
‚Ä¢ CO2 levels at highest point in 3+ million years (421 ppm)
‚Ä¢ We have ~8 years to halve emissions to avoid worst impacts

**Most Impactful Individual Actions (ranked by carbon reduction):**
1. **Transportation Changes**: 2.3 tons CO2/year reduction
   - Use public transit, bike, or walk when possible
   - Consider electric vehicles for families
   - Reduce air travel or purchase carbon offsets

2. **Dietary Modifications**: 0.8 tons CO2/year reduction
   - Reduce meat consumption (especially beef)
   - Support local, seasonal produce
   - Minimize food waste

3. **Home Energy Efficiency**: 0.9 tons CO2/year reduction
   - Switch to renewable energy providers
   - Improve home insulation
   - Use energy-efficient appliances

**Systemic Change Strategies:**
üó≥Ô∏è **Political Engagement**
- Vote for climate-conscious candidates
- Contact representatives about climate policies
- Support carbon pricing and renewable energy subsidies

üè¢ **Community Organizing**
- Join or start climate action groups
- Advocate for sustainable practices in schools/workplaces
- Organize community renewable energy projects

üí∞ **Economic Pressure**
- Divest from fossil fuel companies
- Support businesses with strong environmental practices
- Advocate for corporate sustainability reporting

**Avoiding Climate Anxiety:**
‚Ä¢ Focus on actions within your control
‚Ä¢ Connect with like-minded communities
‚Ä¢ Celebrate small wins and progress
‚Ä¢ Balance activism with self-care

**Evidence-Based Hope:**
- Renewable energy costs have dropped 90% in the past decade
- Many countries are exceeding Paris Agreement commitments
- Youth activism is driving unprecedented policy attention

This comprehensive approach combines personal responsibility with systemic change advocacy, empowering you to make meaningful impact while maintaining psychological well-being.`,

                    technology: `**Digital Wellness and Social Media Literacy: A Balanced Approach**

As a digital wellness consultant, I'll provide evidence-based strategies for healthy technology use.

**Understanding Social Media's Impact:**

**Positive Effects:**
‚Ä¢ Enhanced social connections across distances
‚Ä¢ Access to diverse perspectives and communities
‚Ä¢ Educational content and skill development
‚Ä¢ Creative expression and collaboration opportunities

**Documented Risks:**
‚Ä¢ Increased anxiety and depression rates (especially 13-17 age group)
‚Ä¢ Sleep disruption from blue light and stimulating content
‚Ä¢ Comparison culture leading to reduced self-esteem
‚Ä¢ Attention fragmentation affecting deep focus abilities

**The Balanced Usage Framework:**

**1. Intentional Consumption (What)**
‚úì Curate feeds to include educational and inspiring content
‚úì Unfollow accounts that consistently make you feel worse
‚úì Use platform tools to limit exposure to negative content
‚úì Seek out diverse viewpoints to avoid echo chambers

**2. Mindful Timing (When)**
‚Ä¢ Implement "no-phone" zones: meals, bedrooms, study time
‚Ä¢ Use app timers to track and limit usage
‚Ä¢ Avoid social media 1 hour before bed and upon waking
‚Ä¢ Schedule specific times for checking platforms vs. constant notifications

**3. Active vs. Passive Engagement (How)**
‚Ä¢ Comment thoughtfully rather than endless scrolling
‚Ä¢ Create and share original content
‚Ä¢ Use platforms for genuine communication with friends
‚Ä¢ Engage with educational content actively (take notes, research further)

**Digital Literacy Skills:**
üîç **Source Verification**: Check multiple sources before believing or sharing
ü§ñ **Algorithm Awareness**: Understand how platforms decide what you see
üé≠ **Curated Reality Recognition**: Remember that social media shows highlight reels
üõ°Ô∏è **Privacy Protection**: Regular security settings reviews and data awareness

**Warning Signs to Monitor:**
- Feeling anxious when unable to check devices
- Declining real-world social interactions
- Sleep problems or changes in sleep patterns
- Decreased academic or work performance
- Physical symptoms (headaches, eye strain, neck pain)

**Building Healthy Tech Habits:**
‚Ä¢ Use technology to enhance rather than replace real-world activities
‚Ä¢ Practice digital minimalism - quality over quantity
‚Ä¢ Develop offline hobbies and interests
‚Ä¢ Build face-to-face communication skills

This framework helps you harness technology's benefits while protecting your mental health and developing critical digital citizenship skills.`,

                    education: `**Effective Study Strategies: Evidence-Based Learning Optimization**

As an educational psychologist, I'll share scientifically-proven methods to enhance your learning effectiveness.

**Core Learning Principles:**

**1. Active Recall vs. Passive Review**
‚ùå **Passive**: Re-reading notes, highlighting text
‚úÖ **Active**: Testing yourself, explaining concepts aloud, creating flashcards

**Research Finding**: Active recall improves retention by 50-80% compared to passive review.

**2. Spaced Repetition System**
‚Ä¢ Review material at increasing intervals: 1 day, 3 days, 1 week, 2 weeks, 1 month
‚Ä¢ Use apps like Anki or create a manual scheduling system
‚Ä¢ Focus more time on difficult concepts, less on mastered material

**3. Interleaving Practice**
Instead of studying one topic for hours (blocking), mix different topics within study sessions.
**Example**: Math session = 20 min algebra + 20 min geometry + 20 min statistics

**Practical Study Schedule Framework:**

**Daily (30-90 minutes):**
- 10 minutes: Review yesterday's material (active recall)
- 20-60 minutes: Learn new material with active techniques
- 10-20 minutes: Preview tomorrow's content

**Weekly Review (2-3 hours):**
- Comprehensive testing of all week's material
- Identify weak areas for focused practice
- Connect new learning to previously learned concepts

**Monthly Deep Review (3-4 hours):**
- Practice exams or comprehensive projects
- Analyze learning patterns and adjust strategies
- Celebrate progress and set new goals

**Environment Optimization:**
üéØ **Focus Techniques**:
- Pomodoro Technique: 25 min focused work + 5 min break
- Remove distractions (phone in another room)
- Use website blockers during study time

üß† **Cognitive Enhancement**:
- Study in multiple locations to strengthen memory cues
- Use background white noise or nature sounds
- Maintain consistent sleep schedule (7-9 hours for teens)
- Exercise regularly to boost cognitive function

**Subject-Specific Strategies:**
‚Ä¢ **STEM**: Focus on problem-solving practice over memorization
‚Ä¢ **Languages**: Immersion techniques and conversation practice
‚Ä¢ **History/Social Studies**: Create timelines and cause-effect maps
‚Ä¢ **Literature**: Discuss themes and make personal connections

**Motivation and Mindset:**
- Set specific, measurable learning goals
- Track progress visually (charts, apps)
- Connect learning to personal interests and future goals
- Develop growth mindset - embrace challenges as opportunities

This systematic approach transforms studying from time-consuming drudgery into efficient, effective learning that builds lasting knowledge and skills.`,

                    general: `**Comprehensive Problem-Solving Framework: A Structured Approach**

As an expert consultant, I'll provide you with a systematic methodology for addressing complex challenges.

**The 5-Phase Problem-Solving Model:**

**Phase 1: Problem Definition (20% of effort)**
‚Ä¢ Clearly articulate the core issue
‚Ä¢ Distinguish between symptoms and root causes
‚Ä¢ Define success criteria and constraints
‚Ä¢ Identify stakeholders and their perspectives

**Phase 2: Information Gathering (25% of effort)**
‚Ä¢ Research similar challenges and solutions
‚Ä¢ Collect relevant data and evidence
‚Ä¢ Consult subject matter experts
‚Ä¢ Map current processes and systems

**Phase 3: Solution Generation (20% of effort)**
‚Ä¢ Brainstorm multiple approaches without judgment
‚Ä¢ Use structured creativity techniques (SCAMPER, mind mapping)
‚Ä¢ Consider both conventional and innovative solutions
‚Ä¢ Evaluate feasibility, cost, and potential impact

**Phase 4: Implementation Planning (25% of effort)**
‚Ä¢ Develop detailed action steps with timelines
‚Ä¢ Identify required resources and potential obstacles
‚Ä¢ Create contingency plans for likely scenarios
‚Ä¢ Establish progress metrics and checkpoints

**Phase 5: Evaluation and Iteration (10% of effort)**
‚Ä¢ Monitor results against success criteria
‚Ä¢ Gather feedback from stakeholders
‚Ä¢ Document lessons learned
‚Ä¢ Adjust approach based on outcomes

**Critical Thinking Tools:**
üîç **Root Cause Analysis**: Use "5 Whys" technique
üìä **Data Analysis**: Look for patterns and correlations
üéØ **Priority Matrix**: Urgent vs. Important categorization
üîÑ **Systems Thinking**: Consider interconnections and feedback loops

**Decision-Making Framework:**
1. **Identify Options**: Generate at least 3 alternatives
2. **Evaluate Criteria**: Cost, time, risk, alignment with goals
3. **Weight Factors**: Determine relative importance of criteria
4. **Score Options**: Rate each alternative against criteria
5. **Make Decision**: Choose highest-scoring option
6. **Plan Implementation**: Detailed action steps

**Common Problem-Solving Pitfalls to Avoid:**
‚ùå Jumping to solutions before understanding the problem
‚ùå Considering only obvious or traditional approaches
‚ùå Ignoring stakeholder perspectives and constraints
‚ùå Failing to test solutions before full implementation
‚ùå Not learning from failures or unexpected outcomes

This structured approach ensures thorough analysis while maintaining efficiency and increasing the likelihood of successful outcomes.`
                };

                return responses[topic] || responses.general;
            }

            getBadResponse(topic) {
                const responses = {
                    finance: `Inflation is when prices go up. It happens because of supply and demand and other economic factors. It affects the economy and people's buying power. You should probably save money and invest to protect yourself from inflation.`,

                    media_literacy: `Misinformation is false information that spreads online. You should fact-check things before believing them. Look at multiple sources and be careful about what you share. Some websites are more reliable than others.`,

                    environment: `Climate change is a big problem caused by pollution and greenhouse gases. You can help by recycling, using less energy, and driving less. It's important to care about the environment for future generations.`,

                    technology: `Social media can be good or bad. It helps you connect with people but can also be addictive. You should limit your screen time and be careful about what you post. Privacy is important online.`,

                    education: `To study better, you should make a schedule and stay organized. Take notes and review them regularly. Find a quiet place to study and avoid distractions. Ask for help if you need it.`,

                    general: `This is a complex topic with many different aspects to consider. There are various approaches you could take depending on your specific situation. You should research more and maybe consult with experts to get better information.`
                };

                return responses[topic] || responses.general;
            }

            async analyzePrompt(structuredPrompt) {
                this.showLoadingState();

                try {
                    // Generate the simplified "bad" prompt
                    const badPrompt = this.generateBadPrompt(structuredPrompt);

                    // Display the prompts
                    document.getElementById('goodPromptText').textContent = structuredPrompt;
                    document.getElementById('badPromptText').textContent = badPrompt;

                    // Make simultaneous API calls
                    const [goodResponse, badResponse] = await Promise.all([
                        this.callGeminiAPI(structuredPrompt),
                        this.callGeminiAPI(badPrompt)
                    ]);

                    // Display responses
                    document.getElementById('goodResponse').textContent = goodResponse;
                    document.getElementById('badResponse').textContent = badResponse;

                    // Show results
                    this.showResults();

                } catch (error) {
                    console.error('Analysis failed:', error);
                    // Show error state
                    this.showErrorState(error.message);
                }
            }

            showErrorState(message) {
                document.getElementById('noPromptState').innerHTML = `
                    <div style="text-align: center; padding: 48px 32px;">
                        <div style="font-size: 3rem; margin-bottom: 16px;">‚ö†Ô∏è</div>
                        <h3 style="color: var(--error); margin-bottom: 16px;">Analysis Failed</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 32px;">${message}</p>
                        <button class="btn btn-outline" onclick="location.reload()">Try Again</button>
                    </div>
                `;
                document.getElementById('noPromptState').style.display = 'block';
                document.getElementById('loadingState').style.display = 'none';
                document.getElementById('comparisonResults').style.display = 'none';
            }
        }

        // Add CSS for loading animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            @media (max-width: 768px) {
                .comparison-grid {
                    grid-template-columns: 1fr !important;
                    gap: 16px !important;
                }
            }
        `;
        document.head.appendChild(style);

        // Initialize the Impact Analyzer
        document.addEventListener('DOMContentLoaded', function() {
            new ImpactAnalyzer();
        });

        // Global function for external navigation (from builder)
        window.analyzePrompt = function(prompt) {
            localStorage.setItem('generatedPrompt', prompt);
            new ImpactAnalyzer().analyzePrompt(prompt);
        };
    </script>
</body>
</html>
